{"version":3,"sources":["assets\\02. Script\\Player.js"],"names":["cc","Class","Component","properties","jumpAudio","type","AudioClip","onLoad","accLeft","accRight","moveSpeed","systemEvent","on","SystemEvent","EventType","KEY_DOWN","onKeyDown","KEY_UP","onKeyUp","doJumpAction","onDestroy","off","jumpUp","moveBy","v2","jumpDown","callback","callFunc","playJumpSound","rep","repeatForever","sequence","node","runAction","audioEngine","playEffect","event","keyCode","macro","KEY","a","d","update","dt","x"],"mappings":"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","sourceRoot":"/","sourcesContent":["\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        // Jump Sound.\r\n        jumpAudio: {\r\n            type: cc.AudioClip,\r\n            default: null,\r\n        },\r\n\r\n    },\r\n    onLoad: function () {\r\n        this.accLeft = false;\r\n        this.accRight = false;\r\n        this.moveSpeed = 0;\r\n\r\n        // // 키보드 입력 이벤트\r\n        //이벤트 키워드, 콜백 함수, this 키워드 자기 자신 가리키기.\r\n        cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyDown, this);\r\n        cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP, this.onKeyUp, this);\r\n\r\n        // 시작과 동시에 주인공 점프 동작.\r\n        this.doJumpAction();\r\n\r\n    },\r\n\r\n    onDestroy() {\r\n        // 키보드 입력 이벤트 삭제\r\n        cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyDown, this);\r\n        cc.systemEvent.off(cc.SystemEvent.EventType.KEY_UP, this.onKeyUp, this);\r\n    },\r\n\r\n\r\n    doJumpAction: function () {\r\n        // 0.4 4초동안 Y 축으로 300 올라간다.\r\n        const jumpUp = cc.moveBy(0.4, cc.v2(0, 300));\r\n        // 0.4 4초동안 Y 축으로 300 내려간다.\r\n        const jumpDown = cc.moveBy(0.4, cc.v2(0, -300));\r\n        const callback = cc.callFunc(this.playJumpSound, this);\r\n        // sequence 여러 개의 액션을 하나의 액션으로 묶는다.\r\n        // 시퀀스를 무한히 반복한다.\r\n        const rep = cc.repeatForever(cc.sequence(jumpUp, jumpDown, callback));\r\n\r\n        this.node.runAction(rep);        \r\n    },\r\n\r\n    playJumpSound: function () {\r\n        // Play the sound.\r\n        // repeat = false.\r\n        cc.audioEngine.playEffect(this.jumpAudio, false);\r\n    },\r\n\r\n    onKeyDown: function (event) {\r\n        // 키보드 이벤트 처리.\r\n        switch (event.keyCode) {\r\n            case cc.macro.KEY.a:\r\n                this.accLeft = true;\r\n                break;\r\n            case cc.macro.KEY.d:\r\n                this.accRight = true;\r\n                break;\r\n        }\r\n    },\r\n\r\n    onKeyUp: function (event) {\r\n        // 키보드 이벤트 처리.\r\n        switch (event.keyCode) {\r\n            case cc.macro.KEY.a:\r\n                this.accLeft = false;\r\n                break;\r\n            case cc.macro.KEY.d:\r\n                this.accRight = false;\r\n                break;\r\n        }\r\n    },\r\n\r\n    update(dt) {\r\n        if (this.accLeft) {\r\n            this.moveSpeed = -150;\r\n        } else if (this.accRight) {\r\n            this.moveSpeed = 150;\r\n        }\r\n        // 주인공의 위치 업데이트\r\n        this.node.x += this.moveSpeed * dt;\r\n        if (this.node.x < -480) {\r\n            this.node.x = -480;\r\n        }\r\n        if (this.node.x > 480) {\r\n            this.node.x = 480;\r\n        }\r\n    },\r\n});\r\n"]}